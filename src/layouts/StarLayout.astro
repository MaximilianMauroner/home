---
import DefaultLayout from "./DefaultLayout.astro";

interface Props {
  title: string;
  description: string;
  image?: string;
  articlePublishedTime?: string;
  articleModifiedTime?: string;
  articleAuthor?: string;
}

const { title, description, image, articlePublishedTime, articleModifiedTime, articleAuthor } = Astro.props;
---

<DefaultLayout 
  title={title} 
  description={description} 
  image={image}
  articlePublishedTime={articlePublishedTime}
  articleModifiedTime={articleModifiedTime}
  articleAuthor={articleAuthor}
>
  <div
    class="fixed inset-0 -z-10 h-screen w-screen overflow-hidden bg-gray-50 dark:bg-black"
  >
    <div class="stars-small absolute inset-0"></div>
    <div class="stars-medium absolute inset-0"></div>
    <div class="stars-large absolute inset-0"></div>
  </div>
  <slot />
</DefaultLayout>

<style>
  @keyframes twinkle {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0.3;
    }
    100% {
      opacity: 1;
    }
  }

  .stars-small {
    background-image: radial-gradient(
        1px 1px at 25px 5px,
        rgb(156 163 175),
        rgba(255, 255, 255, 0)
      ),
      radial-gradient(1px 1px at 50px 25px, rgb(156 163 175), rgba(255, 255, 255, 0)),
      radial-gradient(1px 1px at 125px 20px, rgb(156 163 175), rgba(255, 255, 255, 0)),
      radial-gradient(1.5px 1.5px at 50px 75px, rgb(156 163 175), rgba(255, 255, 255, 0));
    background-size: 150px 150px;
    animation: twinkle 4s ease-in-out infinite;
  }

  .stars-medium {
    background-image: radial-gradient(
        1.5px 1.5px at 75px 45px,
        rgb(156 163 175),
        rgba(255, 255, 255, 0)
      ),
      radial-gradient(1.5px 1.5px at 100px 25px, rgb(156 163 175), rgba(255, 255, 255, 0)),
      radial-gradient(1.5px 1.5px at 25px 120px, rgb(156 163 175), rgba(255, 255, 255, 0)),
      radial-gradient(2px 2px at 75px 125px, rgb(156 163 175), rgba(255, 255, 255, 0));
    background-size: 200px 200px;
    animation: twinkle 5s ease-in-out infinite;
    animation-delay: 0.3s;
  }

  .stars-large {
    background-image: radial-gradient(
        2px 2px at 100px 150px,
        rgb(156 163 175),
        rgba(255, 255, 255, 0)
      ),
      radial-gradient(2px 2px at 150px 50px, rgb(156 163 175), rgba(255, 255, 255, 0)),
      radial-gradient(
        2.5px 2.5px at 175px 175px,
        rgb(156 163 175),
        rgba(255, 255, 255, 0)
      ),
      radial-gradient(2.5px 2.5px at 20px 200px, rgb(156 163 175), rgba(255, 255, 255, 0));
    background-size: 250px 250px;
    animation: twinkle 6s ease-in-out infinite;
    animation-delay: 0.6s;
  }

  :global(.dark) .stars-small,
  :global(.dark) .stars-medium,
  :global(.dark) .stars-large {
    background-image: radial-gradient(
        1px 1px at 25px 5px,
        white,
        rgba(255, 255, 255, 0)
      ),
      radial-gradient(1px 1px at 50px 25px, white, rgba(255, 255, 255, 0)),
      radial-gradient(1px 1px at 125px 20px, white, rgba(255, 255, 255, 0)),
      radial-gradient(1.5px 1.5px at 50px 75px, white, rgba(255, 255, 255, 0));
  }
</style>
